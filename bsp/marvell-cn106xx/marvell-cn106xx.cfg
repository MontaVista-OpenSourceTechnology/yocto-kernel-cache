# SPDX-License-Identifier: MIT
..........................................................................
.                                WARNING
.
. This file is a kernel configuration fragment, and not a full kernel
. configuration file.  The final kernel configuration is made up of
. an assembly of processed fragments, each of which is designed to
. capture a specific part of the final configuration (e.g. platform
. configuration, feature configuration, and board specific hardware
. configuration).  For more information on kernel configuration, please
. consult the product documentation.
.
..........................................................................

CONFIG_ARM64=y
CONFIG_ARM64_VA_BITS_48=y
CONFIG_ARM64_64K_PAGES=y
CONFIG_ARM_SMMU_V3=y
CONFIG_NR_CPUS=24
CONFIG_ARCH_THUNDER=y
CONFIG_ARCH_THUNDER2=y

# Since we use the 64K pages, so we have to enable this for the multilib support
CONFIG_EXPERT=y

# PCIe
CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_HOTPLUG_PCI=y
CONFIG_HOTPLUG_PCI_PCIE=y
CONFIG_PCI_IOV=y
CONFIG_PCI_HOST_GENERIC=y

# Ethernet
CONFIG_OCTEONTX2_AF=y
CONFIG_OCTEONTX2_PF=y
CONFIG_OCTEONTX2_VF=y
CONFIG_CAVIUM_PTP=y
CONFIG_PTP_1588_CLOCK=y
CONFIG_DCB=y

# DMA
CONFIG_OCTEONTX2_DPI_PF=y

# MTD
CONFIG_MTD=y
CONFIG_MTD_SPI_NOR=y
CONFIG_MTD_BLOCK=y

# USB
CONFIG_USB=y
CONFIG_USB_XHCI_HCD=y

# SPI
CONFIG_SPI=y
CONFIG_SPI_CADENCE_XSPI=y
CONFIG_SPI_CADENCE_MRVL_XSPI=y

# I2C
CONFIG_I2C=y
CONFIG_I2C_THUNDERX=y

# Serial
CONFIG_SERIAL_AMBA_PL011=y
CONFIG_SERIAL_AMBA_PL011_CONSOLE=y

# Watchdog
CONFIG_ARM_SBSA_WATCHDOG=y

# SD
CONFIG_MMC=y
CONFIG_MMC_CAVIUM_THUNDERX=y
CONFIG_MMC_SDHCI=y
CONFIG_MMC_SDHCI_PLTFM=y
CONFIG_MMC_SDHCI_CADENCE=y

# GPIO
CONFIG_GPIOLIB=y
CONFIG_GPIO_THUNDERX=y

# HWMON
CONFIG_SENSORS_MAX6697=y
CONFIG_SENSORS_JC42=y
CONFIG_SENSORS_ARM_SCMI=y

# RTC
CONFIG_RTC_CLASS=y

# PM
CONFIG_ARM_SCMI_POWER_DOMAIN=y
CONFIG_RTC_DRV_DS1307=y

# Regulator
CONFIG_REGULATOR=y
CONFIG_REGULATOR_FIXED_VOLTAGE=y
CONFIG_REGULATOR_GPIO=y

# VFIO
CONFIG_VFIO=y
CONFIG_VFIO_PCI=y

# Misc
CONFIG_EEPROM_AT24=y
CONFIG_HW_RANDOM=y
CONFIG_HW_RANDOM_CAVIUM=y
CONFIG_HW_RANDOM_CN10K=y
CONFIG_OCTEONTX_INFO=y

# BPHY
CONFIG_MARVELL_OTX_BPHY_CTR=y
CONFIG_OCTEONTX2_BPHY_RFOE_NETDEV=y

# Mailbox
CONFIG_MAILBOX=y
CONFIG_MVL_MHU=y

# SCMI
CONFIG_ARM_SCMI_PROTOCOL=y

# CLK
CONFIG_COMMON_CLK_SCMI=y

# CPU freq
CONFIG_CPU_FREQ=y
CONFIG_ARM_SCMI_CPUFREQ=y
CONFIG_CPU_FREQ_GOV_USERSPACE=y
CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y

# CRYPT
CONFIG_CRYPTO_DEV_OCTEONTX2_CPT=y

# FWLOG
CONFIG_MARVELL_FWLOG=y

# CORESIGHT
CONFIG_CORESIGHT=y
CONFIG_CORESIGHT_LINKS_AND_SINKS=y
CONFIG_CORESIGHT_LINK_AND_SINK_TMC=y
CONFIG_CORESIGHT_CATU=y
CONFIG_CORESIGHT_SINK_TPIU=y
CONFIG_CORESIGHT_SINK_ETBV10=y
CONFIG_CORESIGHT_SOURCE_ETM4X=y
CONFIG_CORESIGHT_CPU_DEBUG=y
CONFIG_CORESIGHT_CTI=y
CONFIG_CORESIGHT_CTI_INTEGRATION_REGS=y

# MARVELL_UB
CONFIG_MARVELL_UB=y
CONFIG_MARVELL_UB_GEN_DRIVER=y

# MARVELL_UB_FUNCTIONS
CONFIG_MARVELL_AVS_RESET=y
CONFIG_MARVELL_CN10K_MAC_MGMT=y
CONFIG_MARVELL_SFP_INFO=y
CONFIG_MARVELL_CN10K_RPRAM=y
CONFIG_MARVELL_MEMTEST=y

# GHES
CONFIG_ACPI=y
CONFIG_ACPI_APEI=y
CONFIG_ACPI_APEI_GHES=y
CONFIG_ARM_SDE_INTERFACE=y
CONFIG_EDAC_OCTEONTX=y

# PMU
CONFIG_ARM_SMMU_V3_PMU=y
CONFIG_MARVELL_CN10K_TAD_PMU=y
CONFIG_MARVELL_CN10K_DDR_PMU=y

# ARM MPAM
CONFIG_ARM64_MPAM=y

# MDIO device
CONFIG_MDIO_DEVICE=y

# Currently this driver only work for cn96xx, but it is set to 'm' by default.
# So we have to disable it explicitly.
# CONFIG_OCTEONTX_SERDES is not set
